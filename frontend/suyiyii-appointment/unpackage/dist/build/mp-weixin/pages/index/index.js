"use strict";const e=require("../../common/vendor.js"),t={data:()=>({hello:"",token:"",decodedToken:""}),onLoad(){this.hello=this.getGreeting(),this.read_token()},methods:{read_token(){try{let n=e.index.getStorageSync("token");if(n){this.token=n;var t=n.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),o=decodeURIComponent(atob(t).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));this.decodedToken=JSON.parse(o),console.log(o),console.log(this.decodedToken),this.decodedToken.exp<Date.now()/1e3&&this.redirectToLogin(),console.log("检测到有效token")}else this.redirectToLogin()}catch(n){this.redirectToLogin()}},getGreeting(){const e=(new Date).getHours();return e<12?"早上好":e<18?"下午好":"晚上好"},redirectToLogin(){console.log("token检查失败，跳转到登录页"),e.index.removeStorageSync("token"),e.index.redirectTo({url:"/pages/login/login"})}}};if(!Array){e.resolveComponent("uni-card")()}Math;const o=e._export_sfc(t,[["render",function(t,o,n,i,r,d){return{a:e.t(r.hello),b:e.t(r.decodedToken.sub),c:e.p({title:"通知",thumbnail:"",extra:"",note:"Tips"}),d:e.p({title:"INFOS ABOUT INTERVIEW",thumbnail:"",extra:"",note:"Tips"}),e:e.p({title:"MORE INFO ABOUT DIRECTION",thumbnail:"",extra:"",note:"Tips"})}}]]);wx.createPage(o);
