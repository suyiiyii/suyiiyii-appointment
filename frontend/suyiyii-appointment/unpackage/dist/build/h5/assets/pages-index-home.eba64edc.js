var t,e;import{o,c as s,d as n,i,r as a,w as l,a as r,n as p,f as u,b as d,t as m,h as c,B as g,C as f,z as h,j as y}from"./index-263af25a.js";import{_}from"./uni-card.36441325.js";import{_ as v,r as C}from"./uni-app.es.486b01af.js";import{_ as w}from"./uni-easyinput.87d49f22.js";import{a as x,b as S,_ as b}from"./uv-popup.dc9a1f80.js";import{m as $,a as T,_ as I,b as z}from"./uv-icon.397f5438.js";const k=v({name:"uv-gap",mixins:[$,T,{props:{bgColor:{type:String,default:"transparent"},height:{type:[String,Number],default:20},marginTop:{type:[String,Number],default:0},marginBottom:{type:[String,Number],default:0},...null==(e=null==(t=uni.$uv)?void 0:t.props)?void 0:e.gap}}],computed:{gapStyle(){const t={backgroundColor:this.bgColor,height:this.$uv.addUnit(this.height),marginTop:this.$uv.addUnit(this.marginTop),marginBottom:this.$uv.addUnit(this.marginBottom)};return this.$uv.deepMerge(t,this.$uv.addStyle(this.customStyle))}}},[["render",function(t,e,a,l,r,p){const u=i;return o(),s(u,{class:"uv-gap",style:n([p.gapStyle])},null,8,["style"])}]]);const j=v({name:"uv-toast",mixins:[$,T],data:()=>({isShow:!1,timer:null,config:{message:"",type:"",duration:2e3,icon:!0,position:"center",complete:null,overlay:!0,loading:!1,zIndex:10090},tmpConfig:{},rect:{},opacity:0}),computed:{iconName(){return this.tmpConfig.icon&&"none"!=this.tmpConfig.icon&&["error","warning","success","primary"].includes(this.tmpConfig.type)?this.$uv.type2icon(this.tmpConfig.type):""},overlayStyle(){const t={justifyContent:"center",alignItems:"center",display:"flex",zIndex:this.tmpConfig.zIndex,backgroundColor:"rgba(0, 0, 0, 0)"};return t},iconStyle(){const t={marginRight:"4px"};return t},aniStyle(){return{position:"fixed",zIndex:this.tmpConfig.zIndex}},contentStyle(){this.$uv.sys();const t={position:"fixed",top:"50%",left:"50%"};let e=0;return"top"===this.tmpConfig.position?t.top="25%":"bottom"===this.tmpConfig.position?t.top="75%":e="-50%",t.transform=`translate(-50%,${e})`,t}},created(){["primary","success","error","warning","default","loading"].map((t=>{this[t]=e=>this.show({type:t,message:e})}))},methods:{show(t){this.tmpConfig=this.$uv.deepMerge(this.config,t),this.clearTimer(),this.isShow=!0,this.timer=setTimeout((()=>{this.clearTimer(),"function"==typeof this.tmpConfig.complete&&this.tmpConfig.complete()}),this.tmpConfig.duration)},queryRect(){return new Promise((t=>{const e=this.$refs.uvToastContent;dom.getComponentRect(e,(e=>{t(e.size)}))}))},hide(){this.clearTimer()},clearTimer(){this.isShow=!1,clearTimeout(this.timer),this.timer=null}},unmounted(){this.clearTimer()}},[["render",function(t,e,g,f,h,y){const _=C(a("uv-overlay"),x),v=C(a("uv-loading-icon"),I),w=C(a("uv-icon"),z),b=C(a("uv-gap"),k),$=c,T=i,j=C(a("uv-transition"),S);return o(),s(T,{class:"uv-toast"},{default:l((()=>[r(_,{show:h.isShow&&h.tmpConfig.overlay,"custom-style":y.overlayStyle},null,8,["show","custom-style"]),r(j,{show:h.isShow,mode:"fade","custom-style":y.aniStyle},{default:l((()=>[r(T,{class:p(["uv-toast__content",["uv-type-"+h.tmpConfig.type,"loading"===h.tmpConfig.type||h.tmpConfig.loading?"uv-toast__content--loading":""]]),ref:"uvToastContent",style:n([y.contentStyle])},{default:l((()=>["loading"===h.tmpConfig.type?(o(),s(v,{key:0,mode:"circle",color:"rgb(255, 255, 255)",inactiveColor:"rgb(120, 120, 120)",size:"25"})):"defalut"!==h.tmpConfig.type&&y.iconName?(o(),s(w,{key:1,name:y.iconName,size:"17",color:h.tmpConfig.type,customStyle:y.iconStyle},null,8,["name","color","customStyle"])):u("",!0),"loading"===h.tmpConfig.type||h.tmpConfig.loading?(o(),s(b,{key:2,height:"12",bgColor:"transparent"})):u("",!0),r($,{class:p(["uv-toast__content__text",["uv-toast__content__text--"+h.tmpConfig.type]]),style:{"max-width":"400rpx"}},{default:l((()=>[d(m(h.tmpConfig.message),1)])),_:1},8,["class"])])),_:1},8,["style","class"])])),_:1},8,["show","custom-style"])])),_:1})}],["__scopeId","data-v-618db97c"]]);const V=v({data:()=>({old_password:"",password:""}),methods:{logout(){g("token"),f({url:"/pages/login/login"})},personal_info(t){this.$refs.toast.show({type:"default",title:"默认主题",message:"暂时不支持保存个人信息"})}}},[["render",function(t,e,n,p,u,m){const g=h,f=c,v=C(a("uni-card"),_),x=C(a("uni-easyinput"),w),S=i,$=y,T=C(a("uv-popup"),b),I=C(a("uv-toast"),j);return o(),s(S,{class:"content"},{default:l((()=>[r(g,{src:"/assets/VIP_header-305dc5c4.png",mode:"",style:{"margin-top":"50rpx"}}),r(v,{class:"card",onClick:e[0]||(e[0]=t=>{this.$refs.popup.open()})},{default:l((()=>[r(f,null,{default:l((()=>[d("修改密码")])),_:1}),r(f,{style:{"text-align":"right"}},{default:l((()=>[d(" >  ")])),_:1})])),_:1}),r(T,{ref:"popup",mode:"center",round:"20"},{default:l((()=>[r(S,{style:{width:"600rpx",padding:"30rpx"}},{default:l((()=>[r(f,null,{default:l((()=>[d("更改密码")])),_:1}),r(S,{class:"login_input"},{default:l((()=>[r(x,{modelValue:u.old_password,"onUpdate:modelValue":e[1]||(e[1]=t=>u.old_password=t),placeholder:"请输入旧密码",type:"password",passwordIcon:""},null,8,["modelValue"])])),_:1}),r(S,{class:"login_input"},{default:l((()=>[r(x,{modelValue:u.password,"onUpdate:modelValue":e[2]||(e[2]=t=>u.password=t),placeholder:"请输入新密码",type:"password",passwordIcon:""},null,8,["modelValue"])])),_:1}),r($,{type:"primary",size:"mini"},{default:l((()=>[d("提交")])),_:1})])),_:1})])),_:1},512),r(v,{class:"card",onClick:e[3]||(e[3]=t=>m.personal_info())},{default:l((()=>[r(f,null,{default:l((()=>[d("完善个人信息")])),_:1}),r(f,{style:{"text-align":"right"}},{default:l((()=>[d(" >  ")])),_:1})])),_:1}),r(I,{ref:"toast"},null,512),r(v,{class:"card",onClick:e[4]||(e[4]=t=>m.logout())},{default:l((()=>[r(f,null,{default:l((()=>[d("退出登录")])),_:1}),r(f,{style:{"text-align":"right"}},{default:l((()=>[d(" >  ")])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-ff6c2210"]]);export{V as default};
